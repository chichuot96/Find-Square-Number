<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>
<form method="POST" th:action="@{/}" onsubmit="return validate()">
    <label for="listNum">Enter number</label>
    <input type="text" name="number" id="listNum" th:value="${listNum}"/>
    <input type="submit" value="Find Square">
</form>
<div >
    <span th:utext="${message}"></span>
</div>
<div>
    <div th:each="list : ${mapNum}">
        <p>
        <span th:each="num : ${list}">
            [<span th:utext="${num.getIndex()}"> </span>][<span  th:utext="${num.getValue()}"></span>] <span>---</span>
        </span>
        </p>

    </div>

</div>
</body>
<script>
    var message=[[${message}]];
    alert(message);

    function validate(){
        var listNum=$("#listNum").val();
        var regex=/(-?\d+,)*(-?\d+)/;
        if(!regex.test(listNum)){
            alert("please enter number split by ','");
            return false;
        }else {
            return true;
        }
    }
</script>
</html>